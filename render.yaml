services:
  - type: web
    name: ipos-admin-excel
    env: node
    buildCommand: npm install && npx prisma generate && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production

  # Not: Background worker free tier'da da uyuyacağı için çalışmayabilir
  # En garantili çözüm: Üçüncü parti cron servisi (cron-job.org)
  - type: worker
    name: keep-alive-worker
    env: node
    buildCommand: npm install
    startCommand: npm run keep-alive
    envVars:
      - key: WEB_URL
        value: https://ipos-admin-excel.onrender.com
      - key: NODE_ENV
        value: production

